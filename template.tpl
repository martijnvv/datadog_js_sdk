___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Datadog RUM Browser SDK",
  "categories": "[ANALYTICS]",
  "brand": {
    "id": "martijnvv",
    "displayName": "Martijn van Vreeden",
    "thumbnail": "data:image/png;base64,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\u003d\u003d"
  },
  "description": "This tag adds Datadog basic browser SDK functionality, with some standard settings",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "GROUP",
    "name": "tagInput",
    "displayName": "Tag Configuration",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "TEXT",
        "name": "urlLocation",
        "displayName": "Location",
        "simpleValueType": true,
        "help": "Location that is set in the url https://www.datadoghq-browser-agent.com/us1/v5/datadog-logs.js , in this example us1",
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ]
      },
      {
        "type": "SELECT",
        "name": "urlVersion",
        "displayName": "Version",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "v1",
            "displayValue": "v1"
          },
          {
            "value": "v2",
            "displayValue": "v2"
          },
          {
            "value": "v3",
            "displayValue": "v3"
          },
          {
            "value": "v4",
            "displayValue": "v4"
          },
          {
            "value": "v5",
            "displayValue": "v5"
          },
          {
            "value": "v5",
            "displayValue": "v5"
          },
          {
            "value": "v6",
            "displayValue": "v6"
          },
          {
            "value": "v7",
            "displayValue": "v7"
          },
          {
            "value": "v8",
            "displayValue": "v8"
          }
        ],
        "simpleValueType": true,
        "help": "The value in the url https://www.datadoghq-browser-agent.com/us1/v5/datadog-logs.js , in this example v5"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "configurationSettings",
    "displayName": "Configuration Settings",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "LABEL",
        "name": "Documentation",
        "displayName": "\u003cstrong\u003eDocumentation and references\u003c/strong\u003e\u003cbr/\u003e\nAll documentation can be found on \u003ca href\u003d\"https://docs.datadoghq.com/logs/log_collection/javascript/\"\u003e the official Datadog documentation page\u003c/a\u003e\u003cbr/\u003e"
      },
      {
        "type": "TEXT",
        "name": "clientToken",
        "displayName": "Client Token",
        "simpleValueType": true,
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "help": "This variable is a required field, to be populated with a Datadog client token."
      },
      {
        "type": "TEXT",
        "name": "applicationId",
        "displayName": "Application ID",
        "simpleValueType": true,
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "site",
        "displayName": "Site",
        "simpleValueType": true,
        "help": "Default value is datadoghq.com",
        "notSetText": "This is a required field"
      },
      {
        "type": "SELECT",
        "name": "env",
        "displayName": "Environment",
        "macrosInSelect": true,
        "selectItems": [
          {
            "value": "prod",
            "displayValue": "prod"
          },
          {
            "value": "dev",
            "displayValue": "dev"
          }
        ],
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "service",
        "displayName": "Service",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "version",
        "displayName": "Version",
        "simpleValueType": true,
        "defaultValue": "1.0.0"
      },
      {
        "type": "TEXT",
        "name": "sessionSampleRate",
        "displayName": "Session Sample Rate",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "sessionReplaySampleRate",
        "displayName": "Session Replay Sample Rate",
        "simpleValueType": true
      },
      {
        "type": "SELECT",
        "name": "forwardErrorsToLogs",
        "displayName": "Forward Error Logs",
        "macrosInSelect": true,
        "selectItems": [
          {
            "value": true,
            "displayValue": "true"
          },
          {
            "value": false,
            "displayValue": "false"
          }
        ],
        "simpleValueType": true,
        "defaultValue": true
      },
      {
        "type": "SELECT",
        "name": "trackUserInteractions",
        "displayName": "Track User Interactions",
        "macrosInSelect": true,
        "selectItems": [
          {
            "value": true,
            "displayValue": "true"
          },
          {
            "value": false,
            "displayValue": "false"
          }
        ],
        "simpleValueType": true
      },
      {
        "type": "SELECT",
        "name": "trackResources",
        "displayName": "Track Resources",
        "macrosInSelect": true,
        "selectItems": [
          {
            "value": true,
            "displayValue": "true"
          },
          {
            "value": false,
            "displayValue": "false"
          }
        ],
        "simpleValueType": true
      },
      {
        "type": "SELECT",
        "name": "trackLongTasks",
        "displayName": "Track Long Tasks",
        "macrosInSelect": true,
        "selectItems": [
          {
            "value": true,
            "displayValue": "true"
          },
          {
            "value": false,
            "displayValue": "false"
          }
        ],
        "simpleValueType": true
      },
      {
        "type": "SELECT",
        "name": "trackingConsent",
        "displayName": "Tracking Consent",
        "macrosInSelect": true,
        "selectItems": [
          {
            "value": "granted",
            "displayValue": "granted"
          },
          {
            "value": "not-granted",
            "displayValue": "not-granted"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "granted",
        "help": "Default value will be set to granted."
      },
      {
        "type": "SELECT",
        "name": "defaultPrivacyLevel",
        "displayName": "Default Privacy Level",
        "macrosInSelect": true,
        "selectItems": [
          {
            "value": "mask",
            "displayValue": "mask"
          },
          {
            "value": "mask-user-input",
            "displayValue": "mask-user-input"
          },
          {
            "value": "allow",
            "displayValue": "allow"
          }
        ],
        "simpleValueType": true,
        "help": "set defaultPrivacyLevel to mask, mask-user-input, or allow"
      },         
      {
        "type": "TEXT",
        "name": "allowedTracingUrls",
        "displayName": "Allowed URLs for tracing",
        "help": "Include a list of quoted URLs in square brackets, e.g. [\"https://api.mydomain.com\", \"https://another.domain.com\"]",
        "simpleValueType": true
      },      
      {
        "type": "LABEL",
        "name": "Privacy Level Documentation",
        "displayName": "Learn more about the default privacy levels in \u003ca href\u003d\"https://docs.datadoghq.com/real_user_monitoring/session_replay/browser/privacy_options/\"\u003ethe official Datadog documentation\u003c/a\u003e"
      }     
    ]
  },
  {
    "type": "GROUP",
    "name": "debugSettings",
    "displayName": "Developer Settings",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "debug",
        "checkboxText": "Enable Debug Console Output",
        "simpleValueType": true,
        "help": "Check the box to return log output in the console."
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// Enter your template code here.
const log = require('logToConsole');
const callInWindow = require('callInWindow');
const injectScript = require('injectScript');
const copyFromWindow = require('copyFromWindow');
const encodeUriComponent = require('encodeUriComponent');
const makeInteger = require('makeInteger');
const JSON = require('JSON');
const debug = data.debug;

// Step 1: Inject the script and wait for the script to load.
const url = "https://www.datadoghq-browser-agent.com/" + encodeUriComponent(data.urlLocation) + "/" + encodeUriComponent(data.urlVersion) + "/datadog-rum.js";
injectScript(url, onScriptLoaded, onScriptError);

function onScriptLoaded() {
    if(debug){
      log('Datadog RUM script successfully loaded: ' + url);
    }

    // Step 2: Initialize DD_RUM after the script is loaded.
    callInWindow('DD_RUM.init', {
      clientToken: data.clientToken,
      applicationId: data.applicationId,
      site: data.site,
      service: data.service,
      env: data.env,
      version: data.version, // default 1.0.0, 
      sessionSampleRate: makeInteger(data.sessionSampleRate) || 100, // default is 100
      sessionReplaySampleRate: makeInteger(data.sessionReplaySampleRate) || 100, // default is 100
      trackUserInteractions: data.trackUserInteractions,
      trackResources: data.trackResources,
      trackLongTasks: data.trackLongTasks,
      defaultPrivacyLevel: data.defaultPrivacyLevel,
      forwardErrorsToLogs: data.forwardErrorsToLogs || true, // default true
      trackingConsent: data.trackingConsent || "granted", // default granted
      allowedTracingUrls: data.allowedTracingUrls ? JSON.parse(data.allowedTracingUrls) : []
    });

    // Step 3: Copy DD_RUM from the window and check its configuration.
    const DD_RUM = copyFromWindow('DD_RUM');
    if (DD_RUM && typeof DD_RUM.getInitConfiguration === 'function') {
        const config = DD_RUM.getInitConfiguration();
        if(debug){
          log('Datadog RUM configuration:', config);
        }
    } else {
      if(debug){
        log('Unable to get Datadog RUM configuration. The init function may not have been called yet.');
      }
    }

    // Call data.gtmOnSuccess when the tag is finished.
    data.gtmOnSuccess();
}

function onScriptError() {
    log('Failed to load the Datadog RUM script.');
    // You might also want to fail the tag explicitly if the script load fails.
    data.gtmOnFailure();
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "DD_RUM"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "DD_RUM.init"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "DD_RUM.onReady"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://www.datadoghq-browser-agent.com/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 6-11-2024 10:42:06


